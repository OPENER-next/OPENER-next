{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Question Catalog",
  "description": "A list of questions.",
  "type": "array",
  "items": {
    "type": "object",
    "description": "A question derived from the DELFI catalog.",
    "properties": {
      "id": {
        "description": "The DELFI id this question is derived from.",
        "type": "integer",
        "exclusiveMinimum": 0
      },
      "name": {
        "description": "A short title providing additional context to this question.",
        "type": "string"
      },
      "description": {
        "description": "Details or further information describing this question.",
        "type": "string"
      },
      "image": {
        "description": "A list of image urls that may help to clarify this question.",
        "type": "array",
        "items": {
          "type": "string",
          "format": "uri-reference"
        },
        "minItems": 1
      },
      "question": {
        "description": "The actual question. It should be kept as short as possible while still being comprehensible and independent of the context in which it is asked.",
        "type": "string"
      },
      "input": {
        "type": "object",
        "description": "This holds properties specifying the UI input element and its constraints.",
        "properties": {
          "type": {
            "description": "The value type of the answer. This is closely related to the widget that will be displayed to the end user.",
            "enum": ["Bool", "Number", "String", "List", "Duration", "OpeningHours"]
          },
          "values": {
            "description": "A map of values with additional information for the user and the corresponding OSM tags.",
            "type": "object",
            "additionalProperties": {
              "type": "object",
              "properties": {
                "osm_tags": {
                  "type": "object",
                  "additionalProperties": {
                    "type": "string"
                  }
                },
                "name": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                },
                "image": {
                  "type": "string",
                  "format": "uri-reference"
                },
                "unit": {
                  "description": "An optional unit that will be displayed to the user.",
                  "type": "string"
                },
                "min": {
                  "type": "integer"
                },
                "max": {
                  "type": "integer"
                },
                "decimals": {
                  "description": "An optional property to specify how many decimals are allowed for type Number.",
                  "type": "integer",
                  "minimum": 0
                }
              },
              "additionalProperties": false
            }
          }
        },
        "additionalProperties": false,
        "required": [ "type", "values" ]
      },
      "conditions": { "$ref": "osm_condition_schema.json" },
      "isProfessional": {
        "description": "Certain questions seek for information that requires authorization or might be dangerous to collect. If omitted this will fallback to false.",
        "type": "boolean",
        "default": false
      }
    },
    "additionalProperties": false,
    "required": [ "id", "name", "question", "input" ]
  }
}
